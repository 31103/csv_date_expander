# アクティブコンテキスト

## 現在の作業内容

- **CLIツールの機能見直し:**
  - 標準入力からのCSVデータ受け取り、標準出力への処理結果出力をデフォルト動作としました。
  - ファイルパスによる入出力はオプション (`--input`, `--output`) としました。
  - `--verbose`, `--version`, `--help` オプションを追加しました。
  - エラーハンドリングと終了コードを改善しました。
  - エンコーディング検出ロジックを改善しました。
  - これらの変更は `feature/cli-stdin-stdout` ブランチにコミット済みです。

## 最近の変更

- **CLIツールの機能見直し (標準入出力対応など):**
  - `cli.ts` を大幅に修正し、標準入出力をデフォルトの動作としました。
  - `--input`, `--output`, `--verbose`, `--version`
    オプションを追加・変更しました。
  - ヘルプメッセージを更新しました。
  - エラーハンドリングを改善し、適切な終了コードを設定しました。
  - `src/dateUtils.ts` の `parseDate` から不要なログ出力を削除しました。
  - `cli.ts` の `decodeCsvText`
    におけるエンコーディング検出順序を修正し、ログ出力を `--verbose`
    に連動させました。
- (以前の変更) **Web UIのセクション逐次表示と結果重複排除の実装:**
  (`feature/ui-sequential-display` ブランチ)
- (以前の変更) **CLIツールの初期実装完了:**
- (以前の変更) **UI/UXの抜本的な改善:**
- (以前の変更) **列名による日付列選択機能の実装:**
- (以前の変更) **内部処理の効率化:**
- (以前の変更) **CSVファイルのドラッグ＆ドロップ機能を追加。**
- (以前の変更)
  **ファイル選択/ドロップ時の即時処理を停止し、ボタンクリックで処理を開始するように修正。**
- (以前の変更) **選択されたファイル名を表示する機能を追加。**
- (以前の変更) 展開行数上限の挙動変更とデフォルト値変更。
- (以前の変更) エラー表示のUI詳細化。
- (以前の変更) CSVエンコーディング自動検出機能（UTF-8/Shift_JIS）。
- (以前の変更) プロジェクトのリファクタリング作業。
- (以前の変更) TypeScriptとDenoの導入とコードのモジュール化。
- (以前の変更) CSSのプレーンCSSへの移行とインライン化。
- (以前の変更) 単一HTML生成ビルドスクリプト (`build.ts`) の作成。

## 次のステップ

- **Memory Bankの更新:** CLI機能見直しを反映させました。
- **フィーチャーブランチのマージ:**
  - `feature/cli-stdin-stdout`
    ブランチをメインブランチにマージすることを検討します。
  - `feature/ui-sequential-display` ブランチも同様に検討します。
- **次のタスク定義:**
  - CLIツールのテストコード作成 (`deno test`)。
  - Web UIとCLIツールの機能同期（必要であれば、特に列指定方法など）。
  - ユーザーからのフィードバックや新たな要件に基づく機能追加・改善。
